/* Import Fonts */
/* Lilita One for titles, Nunito for body/buttons */
@import url('https://fonts.googleapis.com/css2?family=Lilita+One&family=Nunito:wght@700&display=swap');

:root {
    --bg-color: #aae1f9; /* Light sky blue background */
    --container-bg: #ffffff; /* White container */
    --title-font: 'Lilita One', cursive;
    --body-font: 'Nunito', sans-serif;
    --play-button-bg: #57a836; /* Green play button */
    --play-button-hover: #4a8c2c;
    --setting-button-bg: #3498db; /* Blue setting buttons */
    --setting-button-hover: #2980b9;
    --back-button-bg: #e74c3c; /* Red back button */
    --back-button-hover: #c0392b;
    --grid-cell-bg: #fefae0; /* Light yellow grid cells */
    --grid-cell-border: #d4a377;
    --grid-cell-correct-bg: #fefae0; /* Same bg, rely on X */
    --x-color: #d00000; /* Red for the X */
    --text-dark: #333333;
    --text-light: #ffffff;
    --title-color: #ff7f27; /* Orange title color */
    --title-shadow: #c15700;
    --button-border-color: rgba(0,0,0,0.2);
    --score-box-bg: #f0f0f0;
}

body {
  font-family: var(--body-font);
  display: flex;
  justify-content: center;
  align-items: flex-start;
  min-height: 100vh;
  background-color: var(--bg-color);
  margin: 0;
  padding-top: 20px;
}

#game-container {
  background-color: var(--container-bg);
  padding: 25px;
  border-radius: 15px;
  box-shadow: 0 6px 12px rgba(0,0,0,0.15);
  text-align: center;
  width: 90%;
  max-width: 550px;
  border: 5px solid #7f4f24;
  position: relative;
}

.screen {
  display: none;
  flex-direction: column;
  align-items: center;
  gap: 20px;
  min-height: 400px;
  justify-content: space-around;
}

.screen.active {
  display: flex;
}

/* --- Titles & Text --- */
.title-banner {
  font-family: var(--title-font);
  font-size: 3em;
  color: var(--title-color);
  text-shadow: 3px 3px 0px var(--title-shadow),
               -1px -1px 0 var(--title-shadow),
               1px -1px 0 var(--title-shadow),
               -1px 1px 0 var(--title-shadow),
               1px 1px 0 var(--title-shadow);
  margin-bottom: 10px;
  line-height: 1.1;
}

h2 {
  font-family: var(--body-font);
  font-weight: 700;
  color: var(--text-dark);
  font-size: 1.6em;
  margin-bottom: 10px;
}

h3 {
   font-family: var(--title-font);
   font-size: 2.5em;
   color: var(--play-button-bg);
   margin: 0;
}


/* --- Buttons --- */
button {
  font-family: var(--body-font);
  font-weight: 700;
  font-size: 1.1em;
  padding: 10px 20px;
  cursor: pointer;
  border: 2px solid var(--button-border-color);
  border-bottom-width: 4px;
  border-radius: 8px;
  color: var(--text-light);
  transition: background-color 0.2s ease, transform 0.1s ease, border-bottom-width 0.1s ease, margin-top 0.1s ease;
  text-transform: uppercase;
  min-width: 120px;
}

button:hover {
   filter: brightness(1.1);
}

 button:active {
     transform: translateY(2px);
     border-bottom-width: 2px;
     margin-top: 2px;
 }

button:disabled {
  background-color: #cccccc;
  border-color: #999999;
  cursor: not-allowed;
  filter: grayscale(50%);
  color: #777777;
}

.button-group {
    display: flex;
    gap: 15px;
    justify-content: center;
    flex-wrap: wrap;
}
 .button-group.vertical {
      flex-direction: column;
      align-items: center;
 }

.action-button, .play-again {
    background-color: var(--play-button-bg);
    font-size: 1.4em;
    padding: 15px 35px;
}
.action-button:hover { background-color: var(--play-button-hover); }

.setting-button {
    background-color: var(--setting-button-bg);
    padding: 12px 25px;
    min-width: 150px;
    min-height: 50px;
    display: flex;
    justify-content: center;
    align-items: center;
}
.setting-button:hover { background-color: var(--setting-button-hover); }

.back-button {
  background-color: var(--back-button-bg);
  font-size: 1.5em;
  color: var(--text-light);
  position: absolute;
  bottom: 15px;
  left: 15px;
  padding: 5px 12px;
  min-width: auto;
  line-height: 1;
}
.back-button:hover { background-color: var(--back-button-hover); }


/* --- Game Grid --- */
#bingo-grid-container {
    background-color: #fdfcdc;
    padding: 15px;
    border-radius: 10px;
    border: 3px solid var(--grid-cell-border);
    box-shadow: inset 0 0 10px rgba(0,0,0,0.1);
}

#bingo-grid {
  display: grid;
  gap: 8px;
  margin: 0 auto;
}

.grid-cell {
  width: 70px;
  height: 70px;
  background-color: var(--grid-cell-bg);
  border: 2px solid var(--grid-cell-border);
  border-radius: 8px;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 2.2em;
  font-weight: bold;
  color: var(--text-dark);
  cursor: pointer;
  transition: background-color 0.3s ease, transform 0.1s ease;
  position: relative;
  overflow: hidden;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
   -khtml-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
}

.grid-cell:hover {
  transform: scale(1.05);
  box-shadow: 0 0 5px var(--grid-cell-border);
}

.grid-cell.correct {
  background-color: var(--grid-cell-correct-bg);
  color: var(--text-dark);
  cursor: default;
}

 /* Improved 'X' mark using pseudo-elements */
.grid-cell.correct::before,
.grid-cell.correct::after {
    content: '';
    position: absolute;
    width: 110%;
    height: 10px;
    background-color: var(--x-color);
    border-radius: 5px;
    top: 50%;
    left: 50%;
    transform-origin: center center;
    z-index: 1;
}
 .grid-cell.correct::before {
     transform: translate(-50%, -50%) rotate(45deg);
 }
 .grid-cell.correct::after {
     transform: translate(-50%, -50%) rotate(-45deg);
 }

/* Ensure text span is above the X */
.grid-cell span {
    position: relative;
    z-index: 2;
    /* Removed background: rgba(255, 255, 255, 0.6); */
    padding: 0 3px;
    border-radius: 2px;
}


.grid-cell.incorrect {
   animation: shake 0.5s ease;
}

 @keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    50% { transform: translateX(5px); }
    75% { transform: translateX(-5px); }
 }


/* --- Game Screen Specifics --- */
 #called-letter-area {
     min-height: 80px;
     display: flex;
     align-items: center;
     justify-content: center;
 }
#called-letter-display {
  font-size: 2em;
  font-weight: bold;
  color: var(--setting-button-bg);
  -webkit-touch-callout: none;
  -webkit-user-select: none;
   -khtml-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
}
 #called-letter-display #current-letter {
      font-size: 1.5em;
      display: inline-block;
      min-width: 40px;
      background-color: #eee;
      padding: 5px 10px;
      border-radius: 5px;
      margin-left: 10px;
 }

#game-controls {
    margin-top: 15px;
}
 .control-button {
      background-color: var(--setting-button-bg);
 }
 .control-button:hover {
      background-color: var(--setting-button-hover);
 }


/* --- End Screen Specifics --- */
 #end-screen h2 {
      font-family: var(--title-font);
      font-size: 3em;
      color: var(--setting-button-bg);
      margin-bottom: 0;
 }
 #score-display {
      display: flex;
      justify-content: space-around;
      width: 90%;
      margin-top: 20px;
      gap: 20px;
 }
 .score-box {
     background-color: var(--score-box-bg);
     padding: 15px;
     border-radius: 8px;
     border: 2px solid #ccc;
     width: 45%;
 }
  .score-box h4 {
      margin: 0 0 10px 0;
      font-size: 1.2em;
      color: var(--text-dark);
  }
  .score-box p {
      margin: 5px 0;
      font-size: 1.1em;
      font-weight: 700;
  }
